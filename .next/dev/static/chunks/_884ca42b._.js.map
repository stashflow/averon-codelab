{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/emers/Documents/Averon%20Systems/ACL/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\n\nexport function createClient() {\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\n  const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n\n  if (!supabaseUrl || !supabaseKey) {\n    console.error('[v0] Supabase environment variables are not set')\n    console.error('[v0] NEXT_PUBLIC_SUPABASE_URL:', supabaseUrl ? 'SET' : 'MISSING')\n    console.error('[v0] NEXT_PUBLIC_SUPABASE_ANON_KEY:', supabaseKey ? 'SET' : 'MISSING')\n    throw new Error('Supabase is not configured. Please add NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY environment variables.')\n  }\n\n  return createBrowserClient(supabaseUrl, supabaseKey)\n}\n"],"names":[],"mappings":";;;;AAGsB;AAHtB;AAAA;;AAEO,SAAS;IACd,MAAM;IACN,MAAM;IAEN;;IAOA,OAAO,IAAA,oMAAmB,EAAC,aAAa;AAC1C"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/emers/Documents/Averon%20Systems/ACL/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///Users/emers/Documents/Averon%20Systems/ACL/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'rounded-lg border bg-card text-card-foreground shadow-sm',\n      className,\n    )}\n    {...props}\n  />\n))\nCard.displayName = 'Card'\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\n    {...props}\n  />\n))\nCardHeader.displayName = 'CardHeader'\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'text-2xl font-semibold leading-none tracking-tight',\n      className,\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = 'CardTitle'\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n))\nCardDescription.displayName = 'CardDescription'\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n))\nCardContent.displayName = 'CardContent'\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex items-center p-6 pt-0', className)}\n    {...props}\n  />\n))\nCardFooter.displayName = 'CardFooter'\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///Users/emers/Documents/Averon%20Systems/ACL/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst labelVariants = cva(\n  'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70',\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,0KAAG,EACvB;AAGF,MAAM,sBAAQ,2KAAgB,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAClB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///Users/emers/Documents/Averon%20Systems/ACL/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<'input'>>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nInput.displayName = 'Input'\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,qHAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///Users/emers/Documents/Averon%20Systems/ACL/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline:\n          'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button'\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = 'Button'\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAUF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///Users/emers/Documents/Averon%20Systems/ACL/components/ui/switch.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SwitchPrimitives from '@radix-ui/react-switch'\n\nimport { cn } from '@/lib/utils'\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      'peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input',\n      className,\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        'pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0',\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,WAAW,IAAA,qHAAE,EACX,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,8KAAsB;YACrB,WAAW,IAAA,qHAAE,EACX;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":["file:///Users/emers/Documents/Averon%20Systems/ACL/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        destructive:\n          'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',\n        outline: 'text-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends\n    React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAQF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///Users/emers/Documents/Averon%20Systems/ACL/app/settings/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useMemo, useState } from 'react'\nimport Link from 'next/link'\nimport { useRouter } from 'next/navigation'\nimport { useTheme } from 'next-themes'\nimport { createClient } from '@/lib/supabase/client'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Label } from '@/components/ui/label'\nimport { Input } from '@/components/ui/input'\nimport { Button } from '@/components/ui/button'\nimport { Switch } from '@/components/ui/switch'\nimport { Badge } from '@/components/ui/badge'\n\nexport const dynamic = 'force-dynamic'\n\ninterface Preferences {\n  email_updates: boolean\n  class_reminders: boolean\n}\n\nexport default function SettingsPage() {\n  const [profile, setProfile] = useState<any>(null)\n  const [authUser, setAuthUser] = useState<any>(null)\n  const [sessionInfo, setSessionInfo] = useState<any>(null)\n  const [loading, setLoading] = useState(true)\n  const [savingProfile, setSavingProfile] = useState(false)\n  const [savingPassword, setSavingPassword] = useState(false)\n  const [savingPrefs, setSavingPrefs] = useState(false)\n  const [savingEmail, setSavingEmail] = useState(false)\n  const [form, setForm] = useState({ full_name: '', email: '' })\n  const [newEmail, setNewEmail] = useState('')\n  const [emailStatus, setEmailStatus] = useState<string | null>(null)\n  const [passwords, setPasswords] = useState({ newPassword: '', confirmPassword: '' })\n  const [preferences, setPreferences] = useState<Preferences>({ email_updates: true, class_reminders: true })\n  const router = useRouter()\n  const { theme, setTheme } = useTheme()\n\n  const prefsStorageKey = useMemo(() => (profile ? `acl:preferences:${profile.id}` : ''), [profile])\n\n  useEffect(() => {\n    async function load() {\n      const supabase = createClient()\n      const [userRes, sessionRes] = await Promise.all([supabase.auth.getUser(), supabase.auth.getSession()])\n\n      if (!userRes.data.user) {\n        router.push('/auth/login')\n        return\n      }\n\n      const user = userRes.data.user\n      setAuthUser(user)\n      setSessionInfo(sessionRes.data.session)\n\n      const { data } = await supabase\n        .from('profiles')\n        .select('id, role, full_name, email, school_id')\n        .eq('id', user.id)\n        .single()\n\n      setProfile(data)\n      const effectiveEmail = data?.email || user.email || ''\n      setForm({ full_name: data?.full_name || '', email: effectiveEmail })\n      setNewEmail(effectiveEmail)\n      setLoading(false)\n    }\n\n    load()\n  }, [router])\n\n  useEffect(() => {\n    if (!prefsStorageKey) return\n    const raw = localStorage.getItem(prefsStorageKey)\n    if (!raw) return\n    try {\n      const parsed = JSON.parse(raw)\n      setPreferences({\n        email_updates: parsed.email_updates ?? true,\n        class_reminders: parsed.class_reminders ?? true,\n      })\n    } catch {\n      // ignore malformed local preference payload\n    }\n  }, [prefsStorageKey])\n\n  async function saveProfile() {\n    if (!profile) return\n    setSavingProfile(true)\n\n    const supabase = createClient()\n    const { error } = await supabase\n      .from('profiles')\n      .update({ full_name: form.full_name })\n      .eq('id', profile.id)\n\n    if (error) {\n      alert(error.message)\n    }\n\n    setSavingProfile(false)\n  }\n\n  async function changeEmail() {\n    if (!authUser) return\n    if (!newEmail || !newEmail.includes('@')) {\n      setEmailStatus('Enter a valid email address.')\n      return\n    }\n\n    setSavingEmail(true)\n    setEmailStatus(null)\n\n    const supabase = createClient()\n    const { error: authError } = await supabase.auth.updateUser({ email: newEmail })\n    if (authError) {\n      setEmailStatus(authError.message)\n      setSavingEmail(false)\n      return\n    }\n\n    const { error: profileError } = await supabase\n      .from('profiles')\n      .update({ email: newEmail })\n      .eq('id', authUser.id)\n\n    if (profileError) {\n      setEmailStatus(`Auth updated. Profile email sync failed: ${profileError.message}`)\n      setSavingEmail(false)\n      return\n    }\n\n    setForm((prev) => ({ ...prev, email: newEmail }))\n    setEmailStatus('Email update requested. Check your inbox to confirm the change.')\n    setSavingEmail(false)\n  }\n\n  async function updatePassword() {\n    if (!passwords.newPassword || passwords.newPassword.length < 8) {\n      alert('Password must be at least 8 characters.')\n      return\n    }\n    if (passwords.newPassword !== passwords.confirmPassword) {\n      alert('Passwords do not match.')\n      return\n    }\n\n    setSavingPassword(true)\n    const supabase = createClient()\n    const { error } = await supabase.auth.updateUser({ password: passwords.newPassword })\n\n    if (error) {\n      alert(error.message)\n    } else {\n      setPasswords({ newPassword: '', confirmPassword: '' })\n      alert('Password updated successfully.')\n    }\n\n    setSavingPassword(false)\n  }\n\n  async function savePreferences() {\n    if (!prefsStorageKey) return\n    setSavingPrefs(true)\n    localStorage.setItem(prefsStorageKey, JSON.stringify(preferences))\n    setSavingPrefs(false)\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <p>Loading settings...</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <main className=\"max-w-3xl mx-auto p-6 space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <h1 className=\"text-3xl font-bold\">Settings</h1>\n          {profile?.role && (\n            <Link href={`/settings/${profile.role}`}>\n              <Button variant=\"outline\">Role Settings</Button>\n            </Link>\n          )}\n        </div>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Appearance</CardTitle>\n            <CardDescription>Choose how the interface looks.</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-3\">\n            <Label htmlFor=\"theme-select\">Theme</Label>\n            <select\n              id=\"theme-select\"\n              value={theme || 'light'}\n              onChange={(e) => setTheme(e.target.value)}\n              className=\"h-10 w-full rounded-md border bg-background px-3\"\n            >\n              <option value=\"light\">Light</option>\n              <option value=\"dark\">Dark</option>\n              <option value=\"system\">System</option>\n            </select>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Profile</CardTitle>\n            <CardDescription>Update your account profile.</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">Full Name</Label>\n              <Input id=\"name\" value={form.full_name} onChange={(e) => setForm({ ...form, full_name: e.target.value })} />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Current Email</Label>\n              <Input id=\"email\" value={form.email} disabled />\n            </div>\n            <Button onClick={saveProfile} disabled={savingProfile}>{savingProfile ? 'Saving...' : 'Save Profile'}</Button>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Email</CardTitle>\n            <CardDescription>Change email using Supabase Auth. Confirmation may be required.</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"newEmail\">New Email</Label>\n              <Input id=\"newEmail\" type=\"email\" value={newEmail} onChange={(e) => setNewEmail(e.target.value)} />\n            </div>\n            <Button onClick={changeEmail} disabled={savingEmail || !newEmail.trim()}>{savingEmail ? 'Updating...' : 'Change Email'}</Button>\n            {emailStatus && <p className=\"text-sm text-muted-foreground\">{emailStatus}</p>}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Password</CardTitle>\n            <CardDescription>Change password for this account.</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"newPassword\">New Password</Label>\n              <Input\n                id=\"newPassword\"\n                type=\"password\"\n                value={passwords.newPassword}\n                onChange={(e) => setPasswords({ ...passwords, newPassword: e.target.value })}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"confirmPassword\">Confirm Password</Label>\n              <Input\n                id=\"confirmPassword\"\n                type=\"password\"\n                value={passwords.confirmPassword}\n                onChange={(e) => setPasswords({ ...passwords, confirmPassword: e.target.value })}\n              />\n            </div>\n            <Button onClick={updatePassword} disabled={savingPassword}>{savingPassword ? 'Updating...' : 'Update Password'}</Button>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Preferences</CardTitle>\n            <CardDescription>Control dashboard behavior and notifications.</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"flex items-center justify-between border rounded-md p-3\">\n              <div>\n                <p className=\"font-medium\">Email Updates</p>\n                <p className=\"text-sm text-muted-foreground\">Receive updates about activity and progress.</p>\n              </div>\n              <Switch checked={preferences.email_updates} onCheckedChange={(checked) => setPreferences({ ...preferences, email_updates: checked })} />\n            </div>\n            <div className=\"flex items-center justify-between border rounded-md p-3\">\n              <div>\n                <p className=\"font-medium\">Class Reminders</p>\n                <p className=\"text-sm text-muted-foreground\">Show reminder cues in dashboards.</p>\n              </div>\n              <Switch checked={preferences.class_reminders} onCheckedChange={(checked) => setPreferences({ ...preferences, class_reminders: checked })} />\n            </div>\n            <Button onClick={savePreferences} disabled={savingPrefs}>{savingPrefs ? 'Saving...' : 'Save Preferences'}</Button>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Supabase Account Info</CardTitle>\n            <CardDescription>Useful account/session metadata from Supabase.</CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-2 text-sm\">\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-muted-foreground\">User ID</span>\n              <span className=\"font-mono text-xs break-all\">{authUser?.id}</span>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-muted-foreground\">Last Sign In</span>\n              <span>{authUser?.last_sign_in_at ? new Date(authUser.last_sign_in_at).toLocaleString() : 'Unknown'}</span>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-muted-foreground\">Provider</span>\n              <Badge variant=\"secondary\">{authUser?.app_metadata?.provider || 'email'}</Badge>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-muted-foreground\">Session Expires</span>\n              <span>{sessionInfo?.expires_at ? new Date(sessionInfo.expires_at * 1000).toLocaleString() : 'Unknown'}</span>\n            </div>\n          </CardContent>\n        </Card>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAZA;;;;;;;;;;;;AAcO,MAAM,UAAU;AAOR,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAM;IAC5C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAM;IAC9C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAM;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IACrD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;QAAE,WAAW;QAAI,OAAO;IAAG;IAC5D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAgB;IAC9D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;QAAE,aAAa;QAAI,iBAAiB;IAAG;IAClF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAc;QAAE,eAAe;QAAM,iBAAiB;IAAK;IACzG,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAA,+JAAQ;IAEpC,MAAM,kBAAkB,IAAA,wKAAO;iDAAC,IAAO,UAAU,CAAC,gBAAgB,EAAE,QAAQ,EAAE,EAAE,GAAG;gDAAK;QAAC;KAAQ;IAEjG,IAAA,0KAAS;kCAAC;YACR,eAAe;gBACb,MAAM,WAAW,IAAA,4IAAY;gBAC7B,MAAM,CAAC,SAAS,WAAW,GAAG,MAAM,QAAQ,GAAG,CAAC;oBAAC,SAAS,IAAI,CAAC,OAAO;oBAAI,SAAS,IAAI,CAAC,UAAU;iBAAG;gBAErG,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,EAAE;oBACtB,OAAO,IAAI,CAAC;oBACZ;gBACF;gBAEA,MAAM,OAAO,QAAQ,IAAI,CAAC,IAAI;gBAC9B,YAAY;gBACZ,eAAe,WAAW,IAAI,CAAC,OAAO;gBAEtC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SACpB,IAAI,CAAC,YACL,MAAM,CAAC,yCACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;gBAET,WAAW;gBACX,MAAM,iBAAiB,MAAM,SAAS,KAAK,KAAK,IAAI;gBACpD,QAAQ;oBAAE,WAAW,MAAM,aAAa;oBAAI,OAAO;gBAAe;gBAClE,YAAY;gBACZ,WAAW;YACb;YAEA;QACF;iCAAG;QAAC;KAAO;IAEX,IAAA,0KAAS;kCAAC;YACR,IAAI,CAAC,iBAAiB;YACtB,MAAM,MAAM,aAAa,OAAO,CAAC;YACjC,IAAI,CAAC,KAAK;YACV,IAAI;gBACF,MAAM,SAAS,KAAK,KAAK,CAAC;gBAC1B,eAAe;oBACb,eAAe,OAAO,aAAa,IAAI;oBACvC,iBAAiB,OAAO,eAAe,IAAI;gBAC7C;YACF,EAAE,OAAM;YACN,4CAA4C;YAC9C;QACF;iCAAG;QAAC;KAAgB;IAEpB,eAAe;QACb,IAAI,CAAC,SAAS;QACd,iBAAiB;QAEjB,MAAM,WAAW,IAAA,4IAAY;QAC7B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,YACL,MAAM,CAAC;YAAE,WAAW,KAAK,SAAS;QAAC,GACnC,EAAE,CAAC,MAAM,QAAQ,EAAE;QAEtB,IAAI,OAAO;YACT,MAAM,MAAM,OAAO;QACrB;QAEA,iBAAiB;IACnB;IAEA,eAAe;QACb,IAAI,CAAC,UAAU;QACf,IAAI,CAAC,YAAY,CAAC,SAAS,QAAQ,CAAC,MAAM;YACxC,eAAe;YACf;QACF;QAEA,eAAe;QACf,eAAe;QAEf,MAAM,WAAW,IAAA,4IAAY;QAC7B,MAAM,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU,CAAC;YAAE,OAAO;QAAS;QAC9E,IAAI,WAAW;YACb,eAAe,UAAU,OAAO;YAChC,eAAe;YACf;QACF;QAEA,MAAM,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,SACnC,IAAI,CAAC,YACL,MAAM,CAAC;YAAE,OAAO;QAAS,GACzB,EAAE,CAAC,MAAM,SAAS,EAAE;QAEvB,IAAI,cAAc;YAChB,eAAe,CAAC,yCAAyC,EAAE,aAAa,OAAO,EAAE;YACjF,eAAe;YACf;QACF;QAEA,QAAQ,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,OAAO;YAAS,CAAC;QAC/C,eAAe;QACf,eAAe;IACjB;IAEA,eAAe;QACb,IAAI,CAAC,UAAU,WAAW,IAAI,UAAU,WAAW,CAAC,MAAM,GAAG,GAAG;YAC9D,MAAM;YACN;QACF;QACA,IAAI,UAAU,WAAW,KAAK,UAAU,eAAe,EAAE;YACvD,MAAM;YACN;QACF;QAEA,kBAAkB;QAClB,MAAM,WAAW,IAAA,4IAAY;QAC7B,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU,CAAC;YAAE,UAAU,UAAU,WAAW;QAAC;QAEnF,IAAI,OAAO;YACT,MAAM,MAAM,OAAO;QACrB,OAAO;YACL,aAAa;gBAAE,aAAa;gBAAI,iBAAiB;YAAG;YACpD,MAAM;QACR;QAEA,kBAAkB;IACpB;IAEA,eAAe;QACb,IAAI,CAAC,iBAAiB;QACtB,eAAe;QACf,aAAa,OAAO,CAAC,iBAAiB,KAAK,SAAS,CAAC;QACrD,eAAe;IACjB;IAEA,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;0BAAE;;;;;;;;;;;IAGT;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAK,WAAU;;8BACd,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAqB;;;;;;wBAClC,SAAS,sBACR,6LAAC,0KAAI;4BAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,IAAI,EAAE;sCACrC,cAAA,6LAAC,wIAAM;gCAAC,SAAQ;0CAAU;;;;;;;;;;;;;;;;;8BAKhC,6LAAC,oIAAI;;sCACH,6LAAC,0IAAU;;8CACT,6LAAC,yIAAS;8CAAC;;;;;;8CACX,6LAAC,+IAAe;8CAAC;;;;;;;;;;;;sCAEnB,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC,sIAAK;oCAAC,SAAQ;8CAAe;;;;;;8CAC9B,6LAAC;oCACC,IAAG;oCACH,OAAO,SAAS;oCAChB,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,WAAU;;sDAEV,6LAAC;4CAAO,OAAM;sDAAQ;;;;;;sDACtB,6LAAC;4CAAO,OAAM;sDAAO;;;;;;sDACrB,6LAAC;4CAAO,OAAM;sDAAS;;;;;;;;;;;;;;;;;;;;;;;;8BAK7B,6LAAC,oIAAI;;sCACH,6LAAC,0IAAU;;8CACT,6LAAC,yIAAS;8CAAC;;;;;;8CACX,6LAAC,+IAAe;8CAAC;;;;;;;;;;;;sCAEnB,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,sIAAK;4CAAC,SAAQ;sDAAO;;;;;;sDACtB,6LAAC,sIAAK;4CAAC,IAAG;4CAAO,OAAO,KAAK,SAAS;4CAAE,UAAU,CAAC,IAAM,QAAQ;oDAAE,GAAG,IAAI;oDAAE,WAAW,EAAE,MAAM,CAAC,KAAK;gDAAC;;;;;;;;;;;;8CAExG,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,sIAAK;4CAAC,SAAQ;sDAAQ;;;;;;sDACvB,6LAAC,sIAAK;4CAAC,IAAG;4CAAQ,OAAO,KAAK,KAAK;4CAAE,QAAQ;;;;;;;;;;;;8CAE/C,6LAAC,wIAAM;oCAAC,SAAS;oCAAa,UAAU;8CAAgB,gBAAgB,cAAc;;;;;;;;;;;;;;;;;;8BAI1F,6LAAC,oIAAI;;sCACH,6LAAC,0IAAU;;8CACT,6LAAC,yIAAS;8CAAC;;;;;;8CACX,6LAAC,+IAAe;8CAAC;;;;;;;;;;;;sCAEnB,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,sIAAK;4CAAC,SAAQ;sDAAW;;;;;;sDAC1B,6LAAC,sIAAK;4CAAC,IAAG;4CAAW,MAAK;4CAAQ,OAAO;4CAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAEhG,6LAAC,wIAAM;oCAAC,SAAS;oCAAa,UAAU,eAAe,CAAC,SAAS,IAAI;8CAAK,cAAc,gBAAgB;;;;;;gCACvG,6BAAe,6LAAC;oCAAE,WAAU;8CAAiC;;;;;;;;;;;;;;;;;;8BAIlE,6LAAC,oIAAI;;sCACH,6LAAC,0IAAU;;8CACT,6LAAC,yIAAS;8CAAC;;;;;;8CACX,6LAAC,+IAAe;8CAAC;;;;;;;;;;;;sCAEnB,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,sIAAK;4CAAC,SAAQ;sDAAc;;;;;;sDAC7B,6LAAC,sIAAK;4CACJ,IAAG;4CACH,MAAK;4CACL,OAAO,UAAU,WAAW;4CAC5B,UAAU,CAAC,IAAM,aAAa;oDAAE,GAAG,SAAS;oDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gDAAC;;;;;;;;;;;;8CAG9E,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,sIAAK;4CAAC,SAAQ;sDAAkB;;;;;;sDACjC,6LAAC,sIAAK;4CACJ,IAAG;4CACH,MAAK;4CACL,OAAO,UAAU,eAAe;4CAChC,UAAU,CAAC,IAAM,aAAa;oDAAE,GAAG,SAAS;oDAAE,iBAAiB,EAAE,MAAM,CAAC,KAAK;gDAAC;;;;;;;;;;;;8CAGlF,6LAAC,wIAAM;oCAAC,SAAS;oCAAgB,UAAU;8CAAiB,iBAAiB,gBAAgB;;;;;;;;;;;;;;;;;;8BAIjG,6LAAC,oIAAI;;sCACH,6LAAC,0IAAU;;8CACT,6LAAC,yIAAS;8CAAC;;;;;;8CACX,6LAAC,+IAAe;8CAAC;;;;;;;;;;;;sCAEnB,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DACC,6LAAC;oDAAE,WAAU;8DAAc;;;;;;8DAC3B,6LAAC;oDAAE,WAAU;8DAAgC;;;;;;;;;;;;sDAE/C,6LAAC,wIAAM;4CAAC,SAAS,YAAY,aAAa;4CAAE,iBAAiB,CAAC,UAAY,eAAe;oDAAE,GAAG,WAAW;oDAAE,eAAe;gDAAQ;;;;;;;;;;;;8CAEpI,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;;8DACC,6LAAC;oDAAE,WAAU;8DAAc;;;;;;8DAC3B,6LAAC;oDAAE,WAAU;8DAAgC;;;;;;;;;;;;sDAE/C,6LAAC,wIAAM;4CAAC,SAAS,YAAY,eAAe;4CAAE,iBAAiB,CAAC,UAAY,eAAe;oDAAE,GAAG,WAAW;oDAAE,iBAAiB;gDAAQ;;;;;;;;;;;;8CAExI,6LAAC,wIAAM;oCAAC,SAAS;oCAAiB,UAAU;8CAAc,cAAc,cAAc;;;;;;;;;;;;;;;;;;8BAI1F,6LAAC,oIAAI;;sCACH,6LAAC,0IAAU;;8CACT,6LAAC,yIAAS;8CAAC;;;;;;8CACX,6LAAC,+IAAe;8CAAC;;;;;;;;;;;;sCAEnB,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAK,WAAU;sDAAwB;;;;;;sDACxC,6LAAC;4CAAK,WAAU;sDAA+B,UAAU;;;;;;;;;;;;8CAE3D,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAK,WAAU;sDAAwB;;;;;;sDACxC,6LAAC;sDAAM,UAAU,kBAAkB,IAAI,KAAK,SAAS,eAAe,EAAE,cAAc,KAAK;;;;;;;;;;;;8CAE3F,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAK,WAAU;sDAAwB;;;;;;sDACxC,6LAAC,sIAAK;4CAAC,SAAQ;sDAAa,UAAU,cAAc,YAAY;;;;;;;;;;;;8CAElE,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAK,WAAU;sDAAwB;;;;;;sDACxC,6LAAC;sDAAM,aAAa,aAAa,IAAI,KAAK,YAAY,UAAU,GAAG,MAAM,cAAc,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO1G;GA1SwB;;QAcP,kJAAS;QACI,+JAAQ;;;KAfd"}}]
}